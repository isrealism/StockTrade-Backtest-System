{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-lg border border-border bg-card text-card-foreground\", className)}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-5\", className)} {...props} />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3 ref={ref} className={cn(\"text-base font-semibold leading-none tracking-tight\", className)} {...props} />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"px-5 pb-5\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nexport { Card, CardHeader, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,gEAAgE;QAC7E,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAErF,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAG,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,uDAAuD;QAAa,GAAG,KAAK;;;;;;;AAE1G,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAE,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAEnF,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,aAAa;QAAa,GAAG,KAAK;;;;;;;AAEjE,YAAY,WAAW,GAAG"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-border bg-transparent hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,uOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Input = React.forwardRef<\n  HTMLInputElement,\n  React.InputHTMLAttributes<HTMLInputElement>\n>(({ className, type, ...props }, ref) => {\n  return (\n    <input\n      type={type}\n      className={cn(\n        \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm text-foreground transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  );\n});\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAChC,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,qHAAE,EACX,8UACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AACA,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cn } from \"@/lib/utils\";\n\nconst Label = React.forwardRef<\n  React.ComponentRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n      className\n    )}\n    {...props}\n  />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAClB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/components/ui/tabs.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\nimport { cn } from \"@/lib/utils\";\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ComponentRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center gap-1 rounded-lg bg-secondary p-1\",\n      className\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ComponentRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium text-muted-foreground transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ComponentRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\"mt-3 focus-visible:outline-none\", className)}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,OAAO,2KAAkB;AAE/B,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,2KAAkB;QACjB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,2KAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,2TACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/components/ui/select.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Select = SelectPrimitive.Root;\nconst SelectGroup = SelectPrimitive.Group;\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ComponentRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"ml-2 h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ComponentRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-72 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95\",\n        position === \"popper\" && \"translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ComponentRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectItem,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAOA,MAAM,SAAS,6KAAoB;AACnC,MAAM,cAAc,8KAAqB;AACzC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,8SACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,KAAK;YACL,WAAW,IAAA,qHAAE,EACX,oKACA,aAAa,YAAY,iBACzB;YAEF,UAAU;YACT,GAAG,KAAK;sBAET,cAAA,6LAAC,iLAAwB;gBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;0BAGH;;;;;;;;;;;;;;;;;AAKT,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,gNAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGrB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAoB,CAAC,WAAW"}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/components/ui/switch.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\";\nimport { cn } from \"@/lib/utils\";\n\nconst Switch = React.forwardRef<\n  React.ComponentRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-foreground shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n));\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,WAAW,IAAA,qHAAE,EACX,qXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACrB,WAAW,IAAA,qHAAE,EACX;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/components/ui/badge.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium transition-colors\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary/15 text-primary\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive: \"border-transparent bg-destructive/15 text-destructive\",\n        outline: \"border-border text-foreground\",\n        success: \"border-transparent bg-[hsl(var(--profit))]/15 text-[hsl(var(--profit))]\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,gGACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;YACT,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 528, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/components/backtest/selector-config.tsx"],"sourcesContent":["\"use client\";\n\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ChevronDown, ChevronRight, Info } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst SELECTOR_INFO: Record<string, { name: string; description: string }> = {\n  BBIKDJSelector: {\n    name: \"少妇战法\",\n    description:\n      \"BBI持续上升 + KDJ超卖区 + 上穿MA60 + DIF>0，捕捉趋势向好的低位入场\",\n  },\n  SuperB1Selector: {\n    name: \"SuperB1战法\",\n    description:\n      \"前期发出B1信号后横盘整理，当日突然大幅下跌进入超卖区，捕捉反弹机会\",\n  },\n  BBIShortLongSelector: {\n    name: \"补票战法\",\n    description:\n      \"大趋势多头(BBI+DIF) + 长RSV高位 + 短RSV超卖后反弹，短线波动择时入场\",\n  },\n  PeakKDJSelector: {\n    name: \"填坑战法\",\n    description:\n      \"上升趋势中最新峰值高于前峰，价格回调至前峰附近 + J值低位，在支撑位买入\",\n  },\n  MA60CrossVolumeWaveSelector: {\n    name: \"上穿60放量战法\",\n    description: \"收盘价上穿MA60均线并伴随成交量放大，趋势突破信号\",\n  },\n  BigBullishVolumeSelector: {\n    name: \"暴力K战法\",\n    description:\n      \"单日实体大阳线 + 成交量显著放大 + 收盘价位于知行线之下，低位反弹确认\",\n  },\n};\n\nconst PARAM_LABELS: Record<string, string> = {\n  j_threshold: \"J值阈值\",\n  j_q_threshold: \"J分位阈值\",\n  bbi_min_window: \"BBI最小窗口\",\n  max_window: \"最大窗口\",\n  price_range_pct: \"价格波动幅度\",\n  bbi_q_threshold: \"BBI回撤比例\",\n  lookback_n: \"回溯天数\",\n  close_vol_pct: \"收盘波动率\",\n  price_drop_pct: \"跌幅阈值\",\n  n_short: \"短RSV周期\",\n  n_long: \"长RSV周期\",\n  m: \"RSV检测天数\",\n  upper_rsv_threshold: \"RSV上阈值\",\n  lower_rsv_threshold: \"RSV下阈值\",\n  fluc_threshold: \"偏离度阈值\",\n  gap_threshold: \"峰谷落差阈值\",\n  up_pct_threshold: \"涨幅门槛\",\n  upper_wick_pct_max: \"上影线限制\",\n  vol_lookback_n: \"均量计算天数\",\n  vol_multiple: \"放量倍数\",\n  require_bullish_close: \"要求阳线\",\n  close_lt_zxdq_mult: \"知行线乖离率\",\n  ma60_slope_days: \"MA60斜率天数\",\n};\n\ninterface SelectorConfigProps {\n  selectors: Array<{\n    class: string;\n    alias: string;\n    activate: boolean;\n    params: Record<string, unknown>;\n  }>;\n  onChange: (selectors: SelectorConfigProps[\"selectors\"]) => void;\n  combinationMode: string;\n  onCombinationModeChange: (mode: string) => void;\n}\n\nexport function SelectorConfig({\n  selectors,\n  onChange,\n  combinationMode,\n  onCombinationModeChange,\n}: SelectorConfigProps) {\n  const [expandedIdx, setExpandedIdx] = useState<number | null>(null);\n\n  function toggleActivate(idx: number) {\n    const updated = [...selectors];\n    updated[idx] = { ...updated[idx], activate: !updated[idx].activate };\n    onChange(updated);\n  }\n\n  function updateParam(idx: number, key: string, value: unknown) {\n    const updated = [...selectors];\n    updated[idx] = {\n      ...updated[idx],\n      params: { ...updated[idx].params, [key]: value },\n    };\n    onChange(updated);\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <CardTitle>买入选股器配置</CardTitle>\n          <div className=\"flex items-center gap-2\">\n            <Label className=\"text-xs text-muted-foreground\">信号组合:</Label>\n            <div className=\"flex items-center gap-1 rounded-md bg-secondary p-0.5\">\n              {[\"OR\", \"AND\"].map((mode) => (\n                <button\n                  key={mode}\n                  onClick={() => onCombinationModeChange(mode)}\n                  className={cn(\n                    \"rounded px-2.5 py-1 text-xs font-medium transition-colors\",\n                    combinationMode === mode\n                      ? \"bg-background text-foreground shadow-sm\"\n                      : \"text-muted-foreground hover:text-foreground\"\n                  )}\n                >\n                  {mode === \"OR\" ? \"任一满足\" : \"全部满足\"}\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-2\">\n        {selectors.map((selector, idx) => {\n          const info = SELECTOR_INFO[selector.class];\n          const isExpanded = expandedIdx === idx;\n          return (\n            <div\n              key={selector.class}\n              className={cn(\n                \"rounded-lg border transition-colors\",\n                selector.activate\n                  ? \"border-primary/30 bg-primary/5\"\n                  : \"border-border bg-background\"\n              )}\n            >\n              {/* Header */}\n              <div className=\"flex items-center gap-3 px-4 py-3\">\n                <Switch\n                  checked={selector.activate}\n                  onCheckedChange={() => toggleActivate(idx)}\n                  aria-label={`启用${info?.name || selector.alias}`}\n                />\n                <button\n                  onClick={() => setExpandedIdx(isExpanded ? null : idx)}\n                  className=\"flex flex-1 items-center gap-2 text-left\"\n                >\n                  {isExpanded ? (\n                    <ChevronDown className=\"h-4 w-4 text-muted-foreground\" />\n                  ) : (\n                    <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\n                  )}\n                  <span className=\"text-sm font-medium\">\n                    {info?.name || selector.alias}\n                  </span>\n                  <Badge variant=\"secondary\" className=\"text-[10px]\">\n                    {selector.class}\n                  </Badge>\n                </button>\n              </div>\n\n              {/* Info + Params */}\n              {isExpanded && (\n                <div className=\"border-t border-border px-4 py-3\">\n                  {info && (\n                    <div className=\"mb-3 flex items-start gap-2 rounded-md bg-secondary/50 p-2.5\">\n                      <Info className=\"mt-0.5 h-3.5 w-3.5 shrink-0 text-primary\" />\n                      <p className=\"text-xs leading-relaxed text-muted-foreground\">\n                        {info.description}\n                      </p>\n                    </div>\n                  )}\n                  <div className=\"grid grid-cols-2 gap-3 lg:grid-cols-3\">\n                    {Object.entries(selector.params).map(([key, value]) => {\n                      if (key === \"B1_params\") return null;\n                      const label = PARAM_LABELS[key] || key;\n                      if (typeof value === \"boolean\") {\n                        return (\n                          <div\n                            key={key}\n                            className=\"flex items-center justify-between gap-2 rounded-md bg-background p-2\"\n                          >\n                            <Label className=\"text-xs text-muted-foreground\">\n                              {label}\n                            </Label>\n                            <Switch\n                              checked={value}\n                              onCheckedChange={(v) =>\n                                updateParam(idx, key, v)\n                              }\n                            />\n                          </div>\n                        );\n                      }\n                      return (\n                        <div key={key} className=\"space-y-1\">\n                          <Label className=\"text-xs text-muted-foreground\">\n                            {label}\n                          </Label>\n                          <Input\n                            type=\"number\"\n                            value={String(value)}\n                            onChange={(e) =>\n                              updateParam(\n                                idx,\n                                key,\n                                Number(e.target.value)\n                              )\n                            }\n                            className=\"h-8 text-xs\"\n                            step={\n                              typeof value === \"number\" && value < 1\n                                ? \"0.01\"\n                                : \"1\"\n                            }\n                          />\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 886, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/components/backtest/sell-strategy-config.tsx"],"sourcesContent":["\"use client\";\n\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\nimport { ChevronDown, ChevronRight, Shield } from \"lucide-react\";\nimport { useState } from \"react\";\n\nconst STRATEGY_DESCRIPTIONS: Record<string, string> = {\n  conservative_trailing: \"保守型: 8%移动止损 + 15%止盈 + 60天强制平仓\",\n  aggressive_atr: \"激进型: ATR移动止损 + 20%止盈 + 45天最大持仓\",\n  indicator_based: \"指标型: KDJ超买 + BBI反转 + 10%移动止损\",\n  adaptive_volatility: \"自适应: 根据波动率动态调整止损 + 15%止盈\",\n  chandelier_3r: \"吊灯型: 3倍ATR吊灯止损 + 3R止盈\",\n  zx_discipline: \"知行型: 知行线死叉 + MA死叉 + 8%移动止损\",\n  simple_percentage_stop: \"简单型: 8%移动止损 + 60天最大持仓 (基线对比)\",\n  hold_forever: \"永不卖出 (买入持有基线)\",\n};\n\nconst SELL_CLASS_LABELS: Record<string, string> = {\n  PercentageTrailingStopStrategy: \"百分比移动止损\",\n  ATRTrailingStopStrategy: \"ATR移动止损\",\n  ChandelierStopStrategy: \"吊灯止损\",\n  AdaptiveVolatilityExitStrategy: \"自适应波动率止损\",\n  FixedProfitTargetStrategy: \"固定止盈\",\n  MultipleRExitStrategy: \"R倍数止盈\",\n  KDJOverboughtExitStrategy: \"KDJ超买退场\",\n  BBIReversalExitStrategy: \"BBI反转退场\",\n  ZXLinesCrossDownExitStrategy: \"知行线死叉\",\n  MADeathCrossExitStrategy: \"均线死叉\",\n  VolumeDryUpExitStrategy: \"成交量枯竭\",\n  TimedExitStrategy: \"强制时间平仓\",\n  SimpleHoldStrategy: \"永不卖出\",\n};\n\nconst SELL_PARAM_LABELS: Record<string, string> = {\n  trailing_pct: \"止损比例\",\n  activate_after_profit_pct: \"激活盈利阈值\",\n  target_pct: \"止盈目标\",\n  atr_period: \"ATR周期\",\n  atr_multiplier: \"ATR倍数\",\n  lookback_period: \"回溯周期\",\n  r_multiple: \"R倍数\",\n  stop_multiplier: \"止损倍数\",\n  j_threshold: \"J值阈值\",\n  wait_for_turndown: \"等待掉头\",\n  use_percentile: \"使用分位数\",\n  j_q_threshold: \"J分位阈值\",\n  consecutive_declines: \"连续下跌天数\",\n  fast_period: \"快线周期\",\n  slow_period: \"慢线周期\",\n  volatility_period: \"波动率周期\",\n  low_vol_percentile: \"低波动分位\",\n  high_vol_percentile: \"高波动分位\",\n  low_vol_stop_pct: \"低波动止损\",\n  normal_vol_stop_pct: \"正常止损\",\n  high_vol_stop_pct: \"高波动止损\",\n  max_holding_days: \"最大持仓天数\",\n  volume_threshold_pct: \"枯竭阈值\",\n  consecutive_days: \"连续天数\",\n};\n\ninterface SellStrategyConfigProps {\n  strategies: Record<\n    string,\n    {\n      description: string;\n      name: string;\n      combination_logic?: string;\n      strategies?: Array<{\n        class: string;\n        params: Record<string, unknown>;\n      }>;\n    }\n  >;\n  selectedStrategy: string;\n  onSelectStrategy: (name: string) => void;\n  customParams: Record<string, Record<string, unknown>> | null;\n  onCustomParamsChange: (\n    params: Record<string, Record<string, unknown>>\n  ) => void;\n}\n\nexport function SellStrategyConfig({\n  strategies,\n  selectedStrategy,\n  onSelectStrategy,\n  customParams,\n  onCustomParamsChange,\n}: SellStrategyConfigProps) {\n  const [expandedStrategy, setExpandedStrategy] = useState<string | null>(null);\n\n  const strategyNames = Object.keys(strategies);\n  const currentStrategy = strategies[selectedStrategy];\n\n  function updateSubStrategyParam(\n    subIdx: number,\n    key: string,\n    value: unknown\n  ) {\n    const subs = currentStrategy?.strategies || [];\n    const currentSub = subs[subIdx];\n    if (!currentSub) return;\n\n    const newParams = { ...customParams };\n    const subKey = `${selectedStrategy}__${subIdx}`;\n    newParams[subKey] = {\n      ...currentSub.params,\n      ...(customParams?.[subKey] || {}),\n      [key]: value,\n    };\n    onCustomParamsChange(newParams);\n  }\n\n  function getSubParam(subIdx: number, key: string, defaultValue: unknown) {\n    const subKey = `${selectedStrategy}__${subIdx}`;\n    return customParams?.[subKey]?.[key] ?? defaultValue;\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Shield className=\"h-4 w-4 text-primary\" />\n          卖出策略配置\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-3\">\n        {/* Strategy Selection */}\n        <div className=\"grid grid-cols-1 gap-2 sm:grid-cols-2\">\n          {strategyNames.map((name) => {\n            const isSelected = name === selectedStrategy;\n            return (\n              <button\n                key={name}\n                onClick={() => onSelectStrategy(name)}\n                className={cn(\n                  \"rounded-lg border p-3 text-left transition-all\",\n                  isSelected\n                    ? \"border-primary bg-primary/5 ring-1 ring-primary/20\"\n                    : \"border-border bg-background hover:border-muted-foreground/30\"\n                )}\n              >\n                <p className=\"text-sm font-medium text-foreground\">{name}</p>\n                <p className=\"mt-1 text-xs text-muted-foreground\">\n                  {STRATEGY_DESCRIPTIONS[name] ||\n                    strategies[name]?.description}\n                </p>\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Sub-strategy details */}\n        {currentStrategy?.strategies && currentStrategy.strategies.length > 0 && (\n          <div className=\"mt-4 space-y-2\">\n            <p className=\"text-xs font-medium text-muted-foreground\">\n              组合逻辑: {currentStrategy.combination_logic === \"ANY\" ? \"任一触发即卖出 (OR)\" : \"全部触发才卖出 (AND)\"}\n            </p>\n            {currentStrategy.strategies.map((sub, idx) => {\n              const isExpanded = expandedStrategy === `${selectedStrategy}__${idx}`;\n              return (\n                <div\n                  key={idx}\n                  className=\"rounded-md border border-border bg-background\"\n                >\n                  <button\n                    onClick={() =>\n                      setExpandedStrategy(isExpanded ? null : `${selectedStrategy}__${idx}`)\n                    }\n                    className=\"flex w-full items-center gap-2 px-3 py-2 text-left\"\n                  >\n                    {isExpanded ? (\n                      <ChevronDown className=\"h-3.5 w-3.5 text-muted-foreground\" />\n                    ) : (\n                      <ChevronRight className=\"h-3.5 w-3.5 text-muted-foreground\" />\n                    )}\n                    <span className=\"text-sm\">\n                      {SELL_CLASS_LABELS[sub.class] || sub.class}\n                    </span>\n                    <Badge variant=\"secondary\" className=\"ml-auto text-[10px]\">\n                      {sub.class.replace(\"Strategy\", \"\")}\n                    </Badge>\n                  </button>\n                  {isExpanded && Object.keys(sub.params).length > 0 && (\n                    <div className=\"border-t border-border px-3 py-2\">\n                      <div className=\"grid grid-cols-2 gap-2 lg:grid-cols-3\">\n                        {Object.entries(sub.params).map(([key, defaultVal]) => (\n                          <div key={key} className=\"space-y-1\">\n                            <Label className=\"text-xs text-muted-foreground\">\n                              {SELL_PARAM_LABELS[key] || key}\n                            </Label>\n                            <Input\n                              type=\"number\"\n                              value={String(getSubParam(idx, key, defaultVal))}\n                              onChange={(e) =>\n                                updateSubStrategyParam(\n                                  idx,\n                                  key,\n                                  Number(e.target.value)\n                                )\n                              }\n                              className=\"h-8 text-xs\"\n                              step={\n                                typeof defaultVal === \"number\" && defaultVal < 1\n                                  ? \"0.01\"\n                                  : \"1\"\n                              }\n                            />\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1187, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/lib/api.ts"],"sourcesContent":["const API_BASE = process.env.NEXT_PUBLIC_API_URL || \"\";\n\nasync function fetchAPI<T>(path: string, options?: RequestInit): Promise<T> {\n  const res = await fetch(`${API_BASE}${path}`, {\n    ...options,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...options?.headers,\n    },\n  });\n  if (!res.ok) {\n    const error = await res.json().catch(() => ({ detail: res.statusText }));\n    throw new Error(error.detail || \"API request failed\");\n  }\n  return res.json();\n}\n\n// Types\nexport interface SelectorConfig {\n  class: string;\n  alias: string;\n  activate: boolean;\n  params: Record<string, unknown>;\n}\n\nexport interface SellStrategyConfig {\n  description: string;\n  name: string;\n  combination_logic?: string;\n  strategies?: Array<{\n    class: string;\n    params: Record<string, unknown>;\n  }>;\n  class?: string;\n  params?: Record<string, unknown>;\n}\n\nexport interface BacktestPayload {\n  name?: string;\n  start_date: string;\n  end_date: string;\n  initial_capital?: number;\n  max_positions?: number;\n  position_sizing?: string;\n  commission_rate?: number;\n  stamp_tax_rate?: number;\n  slippage_rate?: number;\n  sell_strategy_name?: string;\n  sell_strategy_config?: unknown;\n  buy_config?: unknown;\n  stock_pool?: { type: string; codes?: string[] };\n  lookback_days?: number;\n}\n\nexport interface BacktestSummary {\n  id: string;\n  name: string;\n  status: \"PENDING\" | \"RUNNING\" | \"COMPLETED\" | \"FAILED\" | \"CANCELLED\";\n  progress: number;\n  created_at: string;\n  started_at: string | null;\n  finished_at: string | null;\n  start_date: string;\n  end_date: string;\n  metrics: Record<string, number> | null;\n  error: string | null;\n}\n\nexport interface BacktestDetail extends BacktestSummary {\n  payload: BacktestPayload | null;\n  result: BacktestResult | null;\n  logs: Array<{ ts: string; message: string }>;\n}\n\nexport interface BacktestResult {\n  equity_curve: Array<Record<string, unknown>>;\n  trades: Array<Record<string, unknown>>;\n  analysis: Record<string, unknown>;\n  performance?: Record<string, unknown>;\n  strategy_score: { score: number; components: Record<string, number> };\n  best_trade: Record<string, unknown> | null;\n  best_stock: { code: string; net_pnl: number } | null;\n}\n\nexport interface Template {\n  id: string;\n  name: string;\n  created_at: string;\n  payload: BacktestPayload;\n}\n\nexport interface CandleData {\n  time: string;\n  open: number;\n  high: number;\n  low: number;\n  close: number;\n  volume: number;\n}\n\n// API Functions\nexport async function getConfig() {\n  return fetchAPI<{\n    selectors: SelectorConfig[];\n    sell_strategies: Record<string, SellStrategyConfig>;\n  }>(\"/api/config\");\n}\n\nexport async function listBacktests() {\n  return fetchAPI<{ items: BacktestSummary[] }>(\"/api/backtests\");\n}\n\nexport async function createBacktest(payload: BacktestPayload) {\n  return fetchAPI<{ id: string; status: string }>(\"/api/backtests\", {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  });\n}\n\nexport async function getBacktest(id: string) {\n  return fetchAPI<BacktestDetail>(`/api/backtests/${id}`);\n}\n\nexport async function cancelBacktest(id: string) {\n  return fetchAPI<{ id: string; status: string }>(\n    `/api/backtests/${id}/cancel`,\n    { method: \"POST\" }\n  );\n}\n\nexport async function listTemplates() {\n  return fetchAPI<{ items: Template[] }>(\"/api/templates\");\n}\n\nexport async function createTemplate(payload: Record<string, unknown>) {\n  return fetchAPI<{ id: string }>(\"/api/templates\", {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  });\n}\n\nexport async function deleteTemplate(id: string) {\n  return fetchAPI<{ id: string; status: string }>(`/api/templates/${id}`, {\n    method: \"DELETE\",\n  });\n}\n\nexport async function getStockCandles(code: string) {\n  return fetchAPI<{ candles: CandleData[] }>(`/api/stocks/${code}/candles`);\n}\n\nexport async function getRankings(metric = \"score\") {\n  return fetchAPI<{\n    items: Array<{\n      id: string;\n      name: string;\n      created_at: string;\n      metrics: Record<string, number>;\n      rank_value: number;\n    }>;\n  }>(`/api/rankings?metric=${metric}`);\n}\n\nexport async function getBenchmark(name: string, start: string, end: string) {\n  return fetchAPI<{ series: Array<{ date: string; nav: number }> }>(\n    `/api/benchmark?name=${encodeURIComponent(name)}&start=${start}&end=${end}`\n  );\n}\n\nexport async function listCompletedBacktests() {\n  const data = await listBacktests();\n  return {\n    items: data.items.filter((item) => item.status === \"COMPLETED\"),\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAiB;AAAjB,MAAM,WAAW,6DAAmC;AAEpD,eAAe,SAAY,IAAY,EAAE,OAAqB;IAC5D,MAAM,MAAM,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;QAC5C,GAAG,OAAO;QACV,SAAS;YACP,gBAAgB;YAChB,GAAG,SAAS,OAAO;QACrB;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;gBAAE,QAAQ,IAAI,UAAU;YAAC,CAAC;QACtE,MAAM,IAAI,MAAM,MAAM,MAAM,IAAI;IAClC;IACA,OAAO,IAAI,IAAI;AACjB;AAsFO,eAAe;IACpB,OAAO,SAGJ;AACL;AAEO,eAAe;IACpB,OAAO,SAAuC;AAChD;AAEO,eAAe,eAAe,OAAwB;IAC3D,OAAO,SAAyC,kBAAkB;QAChE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAEO,eAAe,YAAY,EAAU;IAC1C,OAAO,SAAyB,CAAC,eAAe,EAAE,IAAI;AACxD;AAEO,eAAe,eAAe,EAAU;IAC7C,OAAO,SACL,CAAC,eAAe,EAAE,GAAG,OAAO,CAAC,EAC7B;QAAE,QAAQ;IAAO;AAErB;AAEO,eAAe;IACpB,OAAO,SAAgC;AACzC;AAEO,eAAe,eAAe,OAAgC;IACnE,OAAO,SAAyB,kBAAkB;QAChD,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAEO,eAAe,eAAe,EAAU;IAC7C,OAAO,SAAyC,CAAC,eAAe,EAAE,IAAI,EAAE;QACtE,QAAQ;IACV;AACF;AAEO,eAAe,gBAAgB,IAAY;IAChD,OAAO,SAAoC,CAAC,YAAY,EAAE,KAAK,QAAQ,CAAC;AAC1E;AAEO,eAAe,YAAY,SAAS,OAAO;IAChD,OAAO,SAQJ,CAAC,qBAAqB,EAAE,QAAQ;AACrC;AAEO,eAAe,aAAa,IAAY,EAAE,KAAa,EAAE,GAAW;IACzE,OAAO,SACL,CAAC,oBAAoB,EAAE,mBAAmB,MAAM,OAAO,EAAE,MAAM,KAAK,EAAE,KAAK;AAE/E;AAEO,eAAe;IACpB,MAAM,OAAO,MAAM;IACnB,OAAO;QACL,OAAO,KAAK,KAAK,CAAC,MAAM,CAAC,CAAC,OAAS,KAAK,MAAM,KAAK;IACrD;AACF"}},
    {"offset": {"line": 1287, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/components/backtest/backtest-form.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { SelectorConfig } from \"./selector-config\";\nimport { SellStrategyConfig } from \"./sell-strategy-config\";\nimport { createBacktest, type BacktestPayload, type SelectorConfig as SelectorType, type SellStrategyConfig as SellType } from \"@/lib/api\";\nimport {\n  Play,\n  Save,\n  Loader2,\n  Calendar,\n  DollarSign,\n  Settings2,\n  ChevronDown,\n  ChevronRight,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface BacktestFormProps {\n  selectors: SelectorType[];\n  sellStrategies: Record<string, SellType>;\n}\n\nexport function BacktestForm({ selectors, sellStrategies }: BacktestFormProps) {\n  const router = useRouter();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n\n  // Basic params\n  const [name, setName] = useState(\"回测任务\");\n  const [startDate, setStartDate] = useState(\"2024-01-01\");\n  const [endDate, setEndDate] = useState(\"2024-12-31\");\n  const [initialCapital, setInitialCapital] = useState(1000000);\n  const [maxPositions, setMaxPositions] = useState(10);\n  const [positionSizing, setPositionSizing] = useState(\"equal_weight\");\n\n  // Advanced params\n  const [commissionRate, setCommissionRate] = useState(0.0003);\n  const [stampTaxRate, setStampTaxRate] = useState(0.001);\n  const [slippageRate, setSlippageRate] = useState(0.001);\n  const [lookbackDays, setLookbackDays] = useState(200);\n\n  // Stock pool\n  const [stockPoolType, setStockPoolType] = useState(\"all\");\n  const [customCodes, setCustomCodes] = useState(\"\");\n\n  // Selector config\n  const [selectorList, setSelectorList] = useState(selectors);\n  const [combinationMode, setCombinationMode] = useState(\"OR\");\n\n  // Sell strategy config\n  const [selectedSellStrategy, setSelectedSellStrategy] = useState(\n    Object.keys(sellStrategies)[0] || \"conservative_trailing\"\n  );\n  const [customSellParams, setCustomSellParams] = useState<Record<string, Record<string, unknown>> | null>(null);\n\n  const handleSubmit = useCallback(async () => {\n    setIsSubmitting(true);\n    try {\n      const buyConfig = {\n        selector_combination: {\n          mode: combinationMode,\n          time_window_days: 5,\n          required_selectors: [],\n        },\n        selectors: selectorList,\n      };\n\n      const payload: BacktestPayload = {\n        name,\n        start_date: startDate,\n        end_date: endDate,\n        initial_capital: initialCapital,\n        max_positions: maxPositions,\n        position_sizing: positionSizing,\n        commission_rate: commissionRate,\n        stamp_tax_rate: stampTaxRate,\n        slippage_rate: slippageRate,\n        sell_strategy_name: selectedSellStrategy,\n        buy_config: buyConfig,\n        lookback_days: lookbackDays,\n        stock_pool:\n          stockPoolType === \"all\"\n            ? { type: \"all\" }\n            : {\n                type: \"list\",\n                codes: customCodes\n                  .split(/[,\\n\\s]+/)\n                  .map((c) => c.trim())\n                  .filter(Boolean),\n              },\n      };\n\n      const result = await createBacktest(payload);\n      router.push(`/tasks?active=${result.id}`);\n    } catch (err) {\n      console.error(\"Failed to create backtest:\", err);\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [\n    name, startDate, endDate, initialCapital, maxPositions, positionSizing,\n    commissionRate, stampTaxRate, slippageRate, lookbackDays, stockPoolType,\n    customCodes, selectorList, combinationMode, selectedSellStrategy, router,\n  ]);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-semibold text-foreground\">回测配置</h2>\n          <p className=\"mt-1 text-sm text-muted-foreground\">\n            配置选股策略、卖出策略及回测参数，启动量化回测\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"outline\" size=\"sm\">\n            <Save className=\"mr-1.5 h-3.5 w-3.5\" />\n            保存模板\n          </Button>\n          <Button\n            onClick={handleSubmit}\n            disabled={isSubmitting}\n            size=\"sm\"\n          >\n            {isSubmitting ? (\n              <Loader2 className=\"mr-1.5 h-3.5 w-3.5 animate-spin\" />\n            ) : (\n              <Play className=\"mr-1.5 h-3.5 w-3.5\" />\n            )}\n            启动回测\n          </Button>\n        </div>\n      </div>\n\n      <Tabs defaultValue=\"basic\" className=\"space-y-4\">\n        <TabsList>\n          <TabsTrigger value=\"basic\">基础配置</TabsTrigger>\n          <TabsTrigger value=\"selectors\">选股策略</TabsTrigger>\n          <TabsTrigger value=\"sell\">卖出策略</TabsTrigger>\n        </TabsList>\n\n        {/* Basic Config Tab */}\n        <TabsContent value=\"basic\">\n          <div className=\"grid gap-6 lg:grid-cols-2\">\n            {/* Basic Params Card */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Calendar className=\"h-4 w-4 text-primary\" />\n                  基本参数\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label>任务名称</Label>\n                  <Input\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    placeholder=\"输入回测任务名称\"\n                  />\n                </div>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <div className=\"space-y-2\">\n                    <Label>开始日期</Label>\n                    <Input\n                      type=\"date\"\n                      value={startDate}\n                      onChange={(e) => setStartDate(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label>结束日期</Label>\n                    <Input\n                      type=\"date\"\n                      value={endDate}\n                      onChange={(e) => setEndDate(e.target.value)}\n                    />\n                  </div>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>股票池</Label>\n                  <Select value={stockPoolType} onValueChange={setStockPoolType}>\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">全量股票</SelectItem>\n                      <SelectItem value=\"list\">自定义股票代码</SelectItem>\n                    </SelectContent>\n                  </Select>\n                  {stockPoolType === \"list\" && (\n                    <textarea\n                      className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\n                      placeholder={\"输入股票代码, 逗号或换行分隔\\n例如: 000001, 000002, 600000\"}\n                      value={customCodes}\n                      onChange={(e) => setCustomCodes(e.target.value)}\n                    />\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Capital & Position Card */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <DollarSign className=\"h-4 w-4 text-primary\" />\n                  资金与仓位\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label>初始资金 (元)</Label>\n                  <Input\n                    type=\"number\"\n                    value={initialCapital}\n                    onChange={(e) => setInitialCapital(Number(e.target.value))}\n                    step={100000}\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>最大持仓数</Label>\n                  <Input\n                    type=\"number\"\n                    value={maxPositions}\n                    onChange={(e) => setMaxPositions(Number(e.target.value))}\n                    min={1}\n                    max={50}\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>仓位分配方式</Label>\n                  <Select value={positionSizing} onValueChange={setPositionSizing}>\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"equal_weight\">等权分配</SelectItem>\n                      <SelectItem value=\"risk_based\">基于风险分配 (ATR)</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                {/* Advanced Toggle */}\n                <button\n                  onClick={() => setShowAdvanced(!showAdvanced)}\n                  className=\"flex items-center gap-1.5 text-xs text-muted-foreground hover:text-foreground\"\n                >\n                  <Settings2 className=\"h-3.5 w-3.5\" />\n                  高级参数\n                  {showAdvanced ? (\n                    <ChevronDown className=\"h-3 w-3\" />\n                  ) : (\n                    <ChevronRight className=\"h-3 w-3\" />\n                  )}\n                </button>\n\n                {showAdvanced && (\n                  <div className=\"grid grid-cols-2 gap-3 rounded-md bg-secondary/50 p-3\">\n                    <div className=\"space-y-1\">\n                      <Label className=\"text-xs text-muted-foreground\">\n                        佣金费率\n                      </Label>\n                      <Input\n                        type=\"number\"\n                        value={commissionRate}\n                        onChange={(e) =>\n                          setCommissionRate(Number(e.target.value))\n                        }\n                        step={0.0001}\n                        className=\"h-8 text-xs\"\n                      />\n                    </div>\n                    <div className=\"space-y-1\">\n                      <Label className=\"text-xs text-muted-foreground\">\n                        印花税率\n                      </Label>\n                      <Input\n                        type=\"number\"\n                        value={stampTaxRate}\n                        onChange={(e) =>\n                          setStampTaxRate(Number(e.target.value))\n                        }\n                        step={0.0001}\n                        className=\"h-8 text-xs\"\n                      />\n                    </div>\n                    <div className=\"space-y-1\">\n                      <Label className=\"text-xs text-muted-foreground\">\n                        滑点费率\n                      </Label>\n                      <Input\n                        type=\"number\"\n                        value={slippageRate}\n                        onChange={(e) =>\n                          setSlippageRate(Number(e.target.value))\n                        }\n                        step={0.0001}\n                        className=\"h-8 text-xs\"\n                      />\n                    </div>\n                    <div className=\"space-y-1\">\n                      <Label className=\"text-xs text-muted-foreground\">\n                        数据回溯天数\n                      </Label>\n                      <Input\n                        type=\"number\"\n                        value={lookbackDays}\n                        onChange={(e) =>\n                          setLookbackDays(Number(e.target.value))\n                        }\n                        min={60}\n                        className=\"h-8 text-xs\"\n                      />\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        {/* Selector Config Tab */}\n        <TabsContent value=\"selectors\">\n          <SelectorConfig\n            selectors={selectorList}\n            onChange={setSelectorList}\n            combinationMode={combinationMode}\n            onCombinationModeChange={setCombinationMode}\n          />\n        </TabsContent>\n\n        {/* Sell Strategy Tab */}\n        <TabsContent value=\"sell\">\n          <SellStrategyConfig\n            strategies={sellStrategies}\n            selectedStrategy={selectedSellStrategy}\n            onSelectStrategy={setSelectedSellStrategy}\n            customParams={customSellParams}\n            onCustomParamsChange={setCustomSellParams}\n          />\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2116, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/lib/hooks.ts"],"sourcesContent":["import useSWR from \"swr\";\nimport {\n  getConfig,\n  listBacktests,\n  getBacktest,\n  getRankings,\n  listTemplates,\n  getStockCandles,\n  getBenchmark,\n  listCompletedBacktests,\n} from \"./api\";\n\nexport function useConfig() {\n  return useSWR(\"config\", getConfig, {\n    revalidateOnFocus: false,\n    dedupingInterval: 60000,\n    onErrorRetry: (error, _key, _config, revalidate, { retryCount }) => {\n      // Only retry 2 times if backend is unavailable\n      if (retryCount >= 2) return;\n      setTimeout(() => revalidate({ retryCount }), 5000);\n    },\n  });\n}\n\nexport function useBacktests() {\n  return useSWR(\"backtests\", listBacktests, {\n    refreshInterval: 3000,\n  });\n}\n\nexport function useBacktest(id: string | null) {\n  return useSWR(id ? `backtest-${id}` : null, () =>\n    id ? getBacktest(id) : null,\n    {\n      refreshInterval: (data) =>\n        data?.status === \"RUNNING\" || data?.status === \"PENDING\" ? 1500 : 0,\n    }\n  );\n}\n\nexport function useRankings(metric: string) {\n  return useSWR(`rankings-${metric}`, () => getRankings(metric));\n}\n\nexport function useTemplates() {\n  return useSWR(\"templates\", listTemplates, {\n    revalidateOnFocus: false,\n  });\n}\n\nexport function useStockCandles(code: string | null) {\n  return useSWR(\n    code ? `candles-${code}` : null,\n    () => (code ? getStockCandles(code) : null),\n    { revalidateOnFocus: false }\n  );\n}\nexport function useBenchmark(\n  name: string | null,\n  start: string,\n  end: string\n) {\n  return useSWR(\n    name ? `benchmark-${name}-${start}-${end}` : null,\n    () => (name ? getBenchmark(name, start, end) : null),\n    { revalidateOnFocus: false }\n  );\n}\n\nexport function useCompletedBacktests() {\n  return useSWR(\"completed-backtests\", listCompletedBacktests, {\n    revalidateOnFocus: false,\n  });\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;;;;AAWO,SAAS;;IACd,OAAO,IAAA,4KAAM,EAAC,UAAU,0HAAS,EAAE;QACjC,mBAAmB;QACnB,kBAAkB;QAClB,YAAY;gCAAE,CAAC,OAAO,MAAM,SAAS,YAAY,EAAE,UAAU,EAAE;gBAC7D,+CAA+C;gBAC/C,IAAI,cAAc,GAAG;gBACrB;wCAAW,IAAM,WAAW;4BAAE;wBAAW;uCAAI;YAC/C;;IACF;AACF;GAVgB;;QACP,4KAAM;;;AAWR,SAAS;;IACd,OAAO,IAAA,4KAAM,EAAC,aAAa,8HAAa,EAAE;QACxC,iBAAiB;IACnB;AACF;IAJgB;;QACP,4KAAM;;;AAKR,SAAS,YAAY,EAAiB;;IAC3C,OAAO,IAAA,4KAAM,EAAC,KAAK,CAAC,SAAS,EAAE,IAAI,GAAG;8BAAM,IAC1C,KAAK,IAAA,4HAAW,EAAC,MAAM;6BACvB;QACE,eAAe;kCAAE,CAAC,OAChB,MAAM,WAAW,aAAa,MAAM,WAAW,YAAY,OAAO;;IACtE;AAEJ;IARgB;;QACP,4KAAM;;;AASR,SAAS,YAAY,MAAc;;IACxC,OAAO,IAAA,4KAAM,EAAC,CAAC,SAAS,EAAE,QAAQ;8BAAE,IAAM,IAAA,4HAAW,EAAC;;AACxD;IAFgB;;QACP,4KAAM;;;AAGR,SAAS;;IACd,OAAO,IAAA,4KAAM,EAAC,aAAa,8HAAa,EAAE;QACxC,mBAAmB;IACrB;AACF;IAJgB;;QACP,4KAAM;;;AAKR,SAAS,gBAAgB,IAAmB;;IACjD,OAAO,IAAA,4KAAM,EACX,OAAO,CAAC,QAAQ,EAAE,MAAM,GAAG;kCAC3B,IAAO,OAAO,IAAA,gIAAe,EAAC,QAAQ;iCACtC;QAAE,mBAAmB;IAAM;AAE/B;IANgB;;QACP,4KAAM;;;AAMR,SAAS,aACd,IAAmB,EACnB,KAAa,EACb,GAAW;;IAEX,OAAO,IAAA,4KAAM,EACX,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;+BAC7C,IAAO,OAAO,IAAA,6HAAY,EAAC,MAAM,OAAO,OAAO;8BAC/C;QAAE,mBAAmB;IAAM;AAE/B;IAVgB;;QAKP,4KAAM;;;AAOR,SAAS;;IACd,OAAO,IAAA,4KAAM,EAAC,uBAAuB,uIAAsB,EAAE;QAC3D,mBAAmB;IACrB;AACF;IAJgB;;QACP,4KAAM"}},
    {"offset": {"line": 2254, "column": 0}, "map": {"version":3,"sources":["file:///Users/pengchuhan/StockTrade-Backtest-System/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { BacktestForm } from \"@/components/backtest/backtest-form\";\nimport { useConfig } from \"@/lib/hooks\";\nimport { Loader2 } from \"lucide-react\";\n\n// Default configs that match the Python backend's configs.json\nconst DEFAULT_SELECTORS = [\n  {\n    class: \"BBIKDJSelector\",\n    alias: \"少妇战法\",\n    activate: true,\n    params: {\n      j_threshold: 15,\n      bbi_min_window: 20,\n      max_window: 120,\n      price_range_pct: 1,\n      bbi_q_threshold: 0.2,\n      j_q_threshold: 0.1,\n    },\n  },\n  {\n    class: \"SuperB1Selector\",\n    alias: \"SuperB1战法\",\n    activate: true,\n    params: {\n      lookback_n: 10,\n      close_vol_pct: 0.02,\n      price_drop_pct: 0.02,\n      j_threshold: 10,\n      j_q_threshold: 0.1,\n    },\n  },\n  {\n    class: \"BBIShortLongSelector\",\n    alias: \"补票战法\",\n    activate: true,\n    params: {\n      n_short: 5,\n      n_long: 21,\n      m: 5,\n      bbi_min_window: 2,\n      max_window: 120,\n      bbi_q_threshold: 0.2,\n      upper_rsv_threshold: 75,\n      lower_rsv_threshold: 25,\n    },\n  },\n  {\n    class: \"PeakKDJSelector\",\n    alias: \"填坑战法\",\n    activate: true,\n    params: {\n      j_threshold: 10,\n      max_window: 120,\n      fluc_threshold: 0.03,\n      j_q_threshold: 0.1,\n      gap_threshold: 0.2,\n    },\n  },\n  {\n    class: \"MA60CrossVolumeWaveSelector\",\n    alias: \"上穿60放量战法\",\n    activate: true,\n    params: {\n      lookback_n: 25,\n      vol_multiple: 1.8,\n      j_threshold: 15,\n      j_q_threshold: 0.1,\n      ma60_slope_days: 5,\n      max_window: 120,\n    },\n  },\n  {\n    class: \"BigBullishVolumeSelector\",\n    alias: \"暴力K战法\",\n    activate: true,\n    params: {\n      up_pct_threshold: 0.06,\n      upper_wick_pct_max: 0.02,\n      require_bullish_close: true,\n      close_lt_zxdq_mult: 1.15,\n      vol_lookback_n: 20,\n      vol_multiple: 2.5,\n    },\n  },\n];\n\nconst DEFAULT_SELL_STRATEGIES: Record<string, { description: string; name: string; combination_logic: string; strategies: Array<{ class: string; params: Record<string, unknown> }> }> = {\n  conservative_trailing: {\n    description: \"Conservative risk management\",\n    name: \"conservative_trailing\",\n    combination_logic: \"ANY\",\n    strategies: [\n      { class: \"PercentageTrailingStopStrategy\", params: { trailing_pct: 0.08, activate_after_profit_pct: 0.0 } },\n      { class: \"FixedProfitTargetStrategy\", params: { target_pct: 0.15 } },\n      { class: \"TimedExitStrategy\", params: { max_holding_days: 60 } },\n    ],\n  },\n  aggressive_atr: {\n    description: \"Aggressive ATR-based trailing\",\n    name: \"aggressive_atr\",\n    combination_logic: \"ANY\",\n    strategies: [\n      { class: \"ATRTrailingStopStrategy\", params: { atr_period: 14, atr_multiplier: 2.0 } },\n      { class: \"FixedProfitTargetStrategy\", params: { target_pct: 0.2 } },\n      { class: \"TimedExitStrategy\", params: { max_holding_days: 45 } },\n    ],\n  },\n  indicator_based: {\n    description: \"Technical indicator-based exits\",\n    name: \"indicator_based\",\n    combination_logic: \"ANY\",\n    strategies: [\n      { class: \"KDJOverboughtExitStrategy\", params: { j_threshold: 85, wait_for_turndown: true } },\n      { class: \"BBIReversalExitStrategy\", params: { consecutive_declines: 3 } },\n      { class: \"PercentageTrailingStopStrategy\", params: { trailing_pct: 0.1 } },\n      { class: \"TimedExitStrategy\", params: { max_holding_days: 60 } },\n    ],\n  },\n  adaptive_volatility: {\n    description: \"Adaptive stop based on volatility\",\n    name: \"adaptive_volatility\",\n    combination_logic: \"ANY\",\n    strategies: [\n      { class: \"AdaptiveVolatilityExitStrategy\", params: { volatility_period: 20, lookback_period: 120, low_vol_percentile: 30, high_vol_percentile: 70, low_vol_stop_pct: 0.05, normal_vol_stop_pct: 0.08, high_vol_stop_pct: 0.12 } },\n      { class: \"FixedProfitTargetStrategy\", params: { target_pct: 0.15 } },\n      { class: \"TimedExitStrategy\", params: { max_holding_days: 60 } },\n    ],\n  },\n  chandelier_3r: {\n    description: \"Chandelier stop with 3R profit target\",\n    name: \"chandelier_3r\",\n    combination_logic: \"ANY\",\n    strategies: [\n      { class: \"ChandelierStopStrategy\", params: { lookback_period: 22, atr_period: 14, atr_multiplier: 3.0 } },\n      { class: \"MultipleRExitStrategy\", params: { r_multiple: 3.0, atr_period: 14, stop_multiplier: 2.0 } },\n      { class: \"TimedExitStrategy\", params: { max_holding_days: 60 } },\n    ],\n  },\n  zx_discipline: {\n    description: \"Exit based on ZX lines breach\",\n    name: \"zx_discipline\",\n    combination_logic: \"ANY\",\n    strategies: [\n      { class: \"ZXLinesCrossDownExitStrategy\", params: {} },\n      { class: \"MADeathCrossExitStrategy\", params: { fast_period: 5, slow_period: 20 } },\n      { class: \"PercentageTrailingStopStrategy\", params: { trailing_pct: 0.08 } },\n      { class: \"TimedExitStrategy\", params: { max_holding_days: 60 } },\n    ],\n  },\n  simple_percentage_stop: {\n    description: \"Simple baseline comparison\",\n    name: \"simple_percentage_stop\",\n    combination_logic: \"ANY\",\n    strategies: [\n      { class: \"PercentageTrailingStopStrategy\", params: { trailing_pct: 0.08 } },\n      { class: \"TimedExitStrategy\", params: { max_holding_days: 60 } },\n    ],\n  },\n};\n\nexport default function HomePage() {\n  const { data } = useConfig();\n\n  const selectors = data?.selectors || DEFAULT_SELECTORS;\n  const sellStrategies = data?.sell_strategies || DEFAULT_SELL_STRATEGIES;\n\n  return (\n    <div className=\"p-6\">\n      <BacktestForm\n        selectors={selectors}\n        sellStrategies={sellStrategies}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}